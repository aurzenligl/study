@startuml

box "Queue 1"
    participant Abc
end box
box "Queue 2"
    participant Def
    participant App
end box

App->Def : def()
activate Def
Def->>Abc : MsgDef5
Def-->>App :
deactivate Def
====
group for each ue
    App->Def : abc()
    activate Def
    Def->>Abc : MsgDef
    Def-->>App :
    deactivate Def
====
    App->Def : foo()
    activate Def
    Def->>Abc : MsgDef2
    Def-->>App :
    deactivate Def
end
====
App->Def : bar()
activate Def
Def->>Abc : MsgDef3
Def-->>App :
deactivate Def

hide footbox

@enduml
